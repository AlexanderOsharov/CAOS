.text
.globl main
.include "macros.asm"

main:
    # Инициализация не требуется — RARS сам управляет внутренним состоянием PRNG

loop:
    # Генерируем случайное число от 0 до 255 (включительно)
    li a7, 42       # системный вызов для rand
    li a0, 0        # идентификатор генератора (0 — стандартный)
    li a1, 256      # верхняя граница (исключительно)
    ecall           # результат в a0 ∈ [0, 255]

    # Показываем как правую цифру
    li a1, RIGHT_DIGIT
    jal ra, show_digit

    # Задержка 1000 мс
    li a0, 1000
    li a7, 32
    ecall

    # Генерируем ещё одно случайное число
    li a7, 42
    li a0, 0
    li a1, 256
    ecall

    # Показываем как левую цифру
    li a1, LEFT_DIGIT
    jal ra, show_digit

    # Задержка 1000 мс
    li a0, 1000
    li a7, 32
    ecall

    j loop